shiny::runApp('app')
library(haven)
library(janitor)
library(tidyverse)
library(readxl)
library(lubridate)
library(fst)
library(collapse)
library(ggplot2)
library(highcharter)
library(bs4Dash)
library(bslib)
library(tmap)
library(mapview)
library(aws.s3)
library(DBI)
library(DT)
library(flextable)
library(fresh)
library(glue)
library(memoise)
library(openssl)
library(openxlsx)
library(plotly)
library(pool)
library(rmapshaper)
library(RPostgres)
library(scales)
library(sf)
library(shinyalert)
library(shinycssloaders)
library(shinyFeedback)
library(shinyFiles)
library(shinyjs)
library(shinymanager)
library(shinyvalidate)
library(shinyWidgets)
library(sodium)
library(sp)
library(stringr)
library(uuid)
library(shadowtext)
library(ggtext)
library(data.table)
library(shiny)
library(tmaptools)
library(raster)
library(openxlsx)
library(RColorBrewer)
options(viewer = NULL)
tmap_mode("view")
setwd("C:\\Users\\BZunguze\\OneDrive - ACQUABUILD\\APPS 2022\\BASELINE\\BASELINE_SHINY")
{
db2 <- 'semea'
host_db2 <- "semea.choww6kimn1s.eu-north-1.rds.amazonaws.com"
db_port2 <- '5432'
db_user2 <- "postgres"
db_password2 <- "FAR;2030,"
far_pool <- dbPool(RPostgres::Postgres(), dbname = db2, host=host_db2, port=db_port2, user=db_user2, password=db_password2)
} ### DATABASE CONNECTION
novos <- DBI::dbGetQuery(far_pool, "SELECT * FROM vistas.seleccao WHERE data BETWEEN '2024-01-01' AND CURRENT_DATE")
administrativa <- read_fst("administrativa.fst")
library(haven)
library(janitor)
library(tidyverse)
library(readxl)
library(lubridate)
library(fst)
library(collapse)
library(ggplot2)
library(highcharter)
library(bs4Dash)
library(bslib)
library(tmap)
library(mapview)
library(aws.s3)
library(DBI)
library(DT)
library(flextable)
library(fresh)
library(glue)
library(memoise)
library(openssl)
library(openxlsx)
library(plotly)
library(pool)
library(rmapshaper)
library(RPostgres)
library(scales)
library(sf)
library(shinyalert)
library(shinycssloaders)
library(shinyFeedback)
library(shinyFiles)
library(shinyjs)
library(shinymanager)
library(shinyvalidate)
library(shinyWidgets)
library(sodium)
library(sp)
library(stringr)
library(uuid)
library(shadowtext)
library(ggtext)
library(data.table)
library(shiny)
library(tmaptools)
library(raster)
library(openxlsx)
library(RColorBrewer)
options(viewer = NULL)
tmap_mode("view")
setwd("C:\\Users\\BZunguze\\OneDrive - ACQUABUILD\\APPS 2022\\BASELINE\\BASELINE_SHINY")
{
db2 <- 'semea'
host_db2 <- "semea.choww6kimn1s.eu-north-1.rds.amazonaws.com"
db_port2 <- '5432'
db_user2 <- "postgres"
db_password2 <- "FAR;2030,"
far_pool <- dbPool(RPostgres::Postgres(), dbname = db2, host=host_db2, port=db_port2, user=db_user2, password=db_password2)
} ### DATABASE CONNECTION
novos <- DBI::dbGetQuery(far_pool, "SELECT * FROM vistas.seleccao WHERE data BETWEEN '2024-01-01' AND CURRENT_DATE")
administrativa <- read_fst("C:/Users/BZunguze/OneDrive - ACQUABUILD/APPS 2022/BASELINE/BASELINE_SHINY/extension/administrativa.fst")
A1 <- haven::read_dta("C:/Users/BZunguze/OneDrive - ACQUABUILD/APPS 2022/BASELINE/Data/A1.dta")
Y1 <- haven::read_dta("C:/Users/BZunguze/OneDrive - ACQUABUILD/APPS 2022/BASELINE/Data/Y1.dta")
localidades_recoding<- read_fst("C:/Users/BZunguze/OneDrive - ACQUABUILD/APPS 2022/BASELINE/BASELINE_SHINY/localidades_recoding.fst")
library(haven)
library(janitor)
library(tidyverse)
library(readxl)
library(lubridate)
library(fst)
library(collapse)
library(ggplot2)
library(highcharter)
library(bs4Dash)
library(bslib)
library(tmap)
library(mapview)
library(aws.s3)
library(DBI)
library(DT)
library(flextable)
library(fresh)
library(glue)
library(memoise)
library(openssl)
library(openxlsx)
library(plotly)
library(pool)
library(rmapshaper)
library(RPostgres)
library(scales)
library(sf)
library(shinyalert)
library(shinycssloaders)
library(shinyFeedback)
library(shinyFiles)
library(shinyjs)
library(shinymanager)
library(shinyvalidate)
library(shinyWidgets)
library(sodium)
library(sp)
library(stringr)
library(uuid)
library(shadowtext)
library(ggtext)
library(data.table)
library(shiny)
library(tmaptools)
library(raster)
library(openxlsx)
library(RColorBrewer)
options(viewer = NULL)
tmap_mode("view")
setwd("C:\\Users\\BZunguze\\OneDrive - ACQUABUILD\\APPS 2022\\BASELINE\\BASELINE_SHINY")
{
db2 <- 'semea'
host_db2 <- "semea.choww6kimn1s.eu-north-1.rds.amazonaws.com"
db_port2 <- '5432'
db_user2 <- "postgres"
db_password2 <- "FAR;2030,"
far_pool <- dbPool(RPostgres::Postgres(), dbname = db2, host=host_db2, port=db_port2, user=db_user2, password=db_password2)
} ### DATABASE CONNECTION
novos <- DBI::dbGetQuery(far_pool, "SELECT * FROM vistas.seleccao WHERE data BETWEEN '2024-01-01' AND CURRENT_DATE")
administrativa <- read_fst("C:/Users/BZunguze/OneDrive - ACQUABUILD/APPS 2022/BASELINE/BASELINE_SHINY/extension/administrativa.fst")
A1 <- haven::read_dta("C:/Users/BZunguze/OneDrive - ACQUABUILD/APPS 2022/BASELINE/Data/A1.dta")
Y1 <- haven::read_dta("C:/Users/BZunguze/OneDrive - ACQUABUILD/APPS 2022/BASELINE/Data/Y1.dta")
# localidades_recoding<- read_fst("C:/Users/BZunguze/OneDrive - ACQUABUILD/APPS 2022/BASELINE/BASELINE_SHINY/localidades_recoding.fst")
C09 <- haven::read_dta("C:/Users/BZunguze/OneDrive - ACQUABUILD/APPS 2022/BASELINE/Data/C09.dta")
F1 <- haven::read_dta("C:/Users/BZunguze/OneDrive - ACQUABUILD/APPS 2022/BASELINE/Data/F1.dta")
inquiridores <- read_excel("C:/Users/BZunguze/OneDrive - ACQUABUILD/APPS 2022/BASELINE/inquiridores.xlsx", sheet = "INQUIRIDORES")
meta <- read.fst("C:/Users/BZunguze/OneDrive - ACQUABUILD/APPS 2022/BASELINE/BASELINE_SHINY/metas.fst") %>% mutate(provincia = toupper(provincia))
library(fst)
library(tidyverse)
write.fst(Geocoded_Households, "C:\\Users\\BZunguze\\OneDrive - ACQUABUILD\\APPS 2022\\BASELINE\\BASELINE_SHINY\\baseline_households.fst")
read_fst("C:\\Users\\BZunguze\\OneDrive - ACQUABUILD\\APPS 2022\\BASELINE\\BASELINE_SHINY\\baseline_households.fst")
library(fst)
library(tidyverse)
read_fst("C:\\Users\\BZunguze\\OneDrive - ACQUABUILD\\APPS 2022\\BASELINE\\BASELINE_SHINY\\baseline_households.fst")
library(fst)
library(tidyverse)
read_fst("C:\\Users\\BZunguze\\OneDrive - ACQUABUILD\\APPS 2022\\BASELINE\\BASELINE_SHINY\\extension\\baselinehouseholds.fst")
library(fst)
library(tidyverse)
baseline <- read_fst("C:\\Users\\BZunguze\\OneDrive - ACQUABUILD\\APPS 2022\\BASELINE\\BASELINE_SHINY\\extension\\baselinehouseholds.fst")
library(fst)
library(tidyverse)
library(haven)
baseline <- read_fst("C:\\Users\\BZunguze\\OneDrive - ACQUABUILD\\APPS 2022\\BASELINE\\BASELINE_SHINY\\extension\\baselinehouseholds.fst")
assets <- haven::read_dta("C:/Users/BZunguze/OneDrive - ACQUABUILD/APPS 2022/BASELINE/Data/B2.dta")
View(assets)
library(fst)
library(tidyverse)
library(haven)
baseline <- read_fst("C:\\Users\\BZunguze\\OneDrive - ACQUABUILD\\APPS 2022\\BASELINE\\BASELINE_SHINY\\extension\\baselinehouseholds.fst")
assets <- haven::read_dta("C:/Users/BZunguze/OneDrive - ACQUABUILD/APPS 2022/BASELINE/Data/B2.dta") %>%
dplyr::mutate(codigo = paste0(dist, upa,inq, af))
library(fst)
library(tidyverse)
library(haven)
baseline <- read_fst("C:\\Users\\BZunguze\\OneDrive - ACQUABUILD\\APPS 2022\\BASELINE\\BASELINE_SHINY\\extension\\baselinehouseholds.fst")
assets <- haven::read_dta("C:/Users/BZunguze/OneDrive - ACQUABUILD/APPS 2022/BASELINE/Data/B2.dta") %>%
dplyr::mutate(codigo = paste0(dist, upa,inq, af)) %>%
dplyr::select(codigo, b200a, b201)
assets <- haven::read_dta("C:/Users/BZunguze/OneDrive - ACQUABUILD/APPS 2022/BASELINE/Data/B2.dta") %>%
dplyr::mutate(codigo = paste0(dist, upa,inq, af)) %>%
dplyr::select(codigo, b200a, b201) %>%
dplyr::filter(b201 == "1")
library(fst)
library(tidyverse)
library(haven)
baseline <- read_fst("C:\\Users\\BZunguze\\OneDrive - ACQUABUILD\\APPS 2022\\BASELINE\\BASELINE_SHINY\\extension\\baselinehouseholds.fst")
assets <- haven::read_dta("C:/Users/BZunguze/OneDrive - ACQUABUILD/APPS 2022/BASELINE/Data/B2.dta") %>%
dplyr::mutate(codigo = paste0(dist, upa,inq, af)) %>%
dplyr::select(codigo, b200a, b201) %>%
dplyr::filter(b201 == "1")
library(fst)
library(tidyverse)
library(haven)
baseline <- read_fst("C:\\Users\\BZunguze\\OneDrive - ACQUABUILD\\APPS 2022\\BASELINE\\BASELINE_SHINY\\extension\\baselinehouseholds.fst")
assets <- haven::read_dta("C:/Users/BZunguze/OneDrive - ACQUABUILD/APPS 2022/BASELINE/Data/B2.dta") %>%
dplyr::mutate(codigo = paste0(dist, upa,inq, af)) %>%
dplyr::select(codigo, b200a, b201)
library(fst)
library(tidyverse)
library(haven)
baseline <- read_fst("C:\\Users\\BZunguze\\OneDrive - ACQUABUILD\\APPS 2022\\BASELINE\\BASELINE_SHINY\\extension\\baselinehouseholds.fst")
assets <- haven::read_dta("C:/Users/BZunguze/OneDrive - ACQUABUILD/APPS 2022/BASELINE/Data/B2.dta") %>%
dplyr::mutate(codigo = paste0(dist, upa,inq, af)) %>%
dplyr::select(codigo, b200a, b201) %>%
dplyr::filter(b201 == 1)
tem_artigos <- assets %>% group_by(b200a) %>% summarise(n_distinct(codigo))
View(tem_artigos)
tem_artigos <- assets %>% group_by(b200a) %>% summarise(artigos = n_distinct(codigo)) %>%
arrange(-artigos)
tem_artigos <- assets %>% group_by(b200a) %>% summarise(artigos = n_distinct(codigo)) %>%
arrange(-artigos) %>%
mutate(tem_artigos = 100P*artigos/(n_distinct(assets$codigo)))
tem_artigos <- assets %>% group_by(b200a) %>% summarise(artigos = n_distinct(codigo)) %>%
arrange(-artigos) %>%
mutate(tem_artigos = 100*artigos/(n_distinct(assets$codigo)))
radios <- haven::read_dta("C:/Users/BZunguze/OneDrive - ACQUABUILD/APPS 2022/BASELINE/Data/C09.dta")
tecnologia <- haven::read_dta("C:/Users/BZunguze/OneDrive - ACQUABUILD/APPS 2022/BASELINE/Data/C09.dta")
assistencia <- haven::read_dta("C:/Users/BZunguze/OneDrive - ACQUABUILD/APPS 2022/BASELINE/Data/C09.dta")
View(assistencia)
assistencia <- haven::read_dta("C:/Users/BZunguze/OneDrive - ACQUABUILD/APPS 2022/BASELINE/Data/C09.dta") %>%
dplyr::mutate(codigo = paste0(dist, upa,inq, af)) %>%
dplyr::select(codigo, b200a, b201) %>%
dplyr::filter(b201 == 1)
assistencia <- haven::read_dta("C:/Users/BZunguze/OneDrive - ACQUABUILD/APPS 2022/BASELINE/Data/C09.dta") %>%
dplyr::mutate(codigo = paste0(dist, upa,inq, af)) %>%
dplyr::select(codigo, c094, c090a) %>%
dplyr::filter(c094 != "1" & !is.na(c094))
assistencia <- haven::read_dta("C:/Users/BZunguze/OneDrive - ACQUABUILD/APPS 2022/BASELINE/Data/C09.dta") %>%
dplyr::mutate(codigo = paste0(dist, upa,inq, af)) %>%
dplyr::select(codigo, c094, c090a) %>%
dplyr::filter(c094 != "1" & !is.na(c094)) %>%
dplyr::filter(c094 == "10")
gestao_sustentavel <- haven::read_dta("C:/Users/BZunguze/OneDrive - ACQUABUILD/APPS 2022/BASELINE/Data/g1.dta")
View(gestao_sustentavel)
gestao_sustentavel <- haven::read_dta("C:/Users/BZunguze/OneDrive - ACQUABUILD/APPS 2022/BASELINE/Data/g1.dta")
library(fst)
library(tidyverse)
library(haven)
baseline <- read_fst("C:\\Users\\BZunguze\\OneDrive - ACQUABUILD\\APPS 2022\\BASELINE\\BASELINE_SHINY\\extension\\baselinehouseholds.fst")
assets <- haven::read_dta("C:/Users/BZunguze/OneDrive - ACQUABUILD/APPS 2022/BASELINE/Data/B2.dta") %>%
dplyr::mutate(codigo = paste0(dist, upa,inq, af)) %>%
dplyr::select(codigo, b200a, b201) %>%
dplyr::filter(b201 == 1)
assistencia <- haven::read_dta("C:/Users/BZunguze/OneDrive - ACQUABUILD/APPS 2022/BASELINE/Data/C09.dta") %>%
dplyr::mutate(codigo = paste0(dist, upa,inq, af)) %>%
dplyr::select(codigo, c094, c090a) %>%
dplyr::filter(c094 != "1" & !is.na(c094)) %>%
dplyr::filter(c094 == "10")
gestao_sustentavel <- haven::read_dta("C:/Users/BZunguze/OneDrive - ACQUABUILD/APPS 2022/BASELINE/Data/g1.dta")
tem_artigos <- assets %>% group_by(b200a) %>% summarise(artigos = n_distinct(codigo)) %>%
arrange(-artigos) %>%
mutate(tem_artigos = 100*artigos/(n_distinct(assets$codigo)))
library(fst)
library(tidyverse)
library(haven)
baseline <- read_fst("C:\\Users\\BZunguze\\OneDrive - ACQUABUILD\\APPS 2022\\BASELINE\\BASELINE_SHINY\\extension\\baselinehouseholds.fst")
assets <- haven::read_dta("C:/Users/BZunguze/OneDrive - ACQUABUILD/APPS 2022/BASELINE/Data/B2.dta") %>%
dplyr::mutate(codigo = paste0(dist, upa,inq, af)) %>%
dplyr::select(codigo, b200a, b201) %>%
dplyr::filter(b201 == 1)
assistencia <- haven::read_dta("C:/Users/BZunguze/OneDrive - ACQUABUILD/APPS 2022/BASELINE/Data/C09.dta") %>%
dplyr::mutate(codigo = paste0(dist, upa,inq, af)) %>%
dplyr::select(codigo, c094, c090a) %>%
dplyr::filter(c094 != "1" & !is.na(c094)) %>%
dplyr::filter(c094 == "10")
gestao_sustentavel <- haven::read_dta("C:/Users/BZunguze/OneDrive - ACQUABUILD/APPS 2022/BASELINE/Data/g1.dta")
tem_artigos <- assets %>% group_by(b200a) %>% summarise(artigos = n_distinct(codigo)) %>%
arrange(-artigos) %>%
mutate(tem_artigos = 100*artigos/(n_distinct(assets$codigo)))
library(haven)
library(janitor)
library(tidyverse)
library(readxl)
library(lubridate)
library(fst)
library(collapse)
library(ggplot2)
library(highcharter)
library(bs4Dash)
library(bslib)
library(tmap)
library(mapview)
library(aws.s3)
library(DBI)
library(DT)
library(flextable)
library(fresh)
library(glue)
library(memoise)
library(openssl)
library(openxlsx)
library(plotly)
library(pool)
library(rmapshaper)
library(RPostgres)
library(scales)
library(sf)
library(shinyalert)
library(shinycssloaders)
library(shinyFeedback)
library(shinyFiles)
library(shinyjs)
library(shinymanager)
library(shinyvalidate)
library(shinyWidgets)
library(sodium)
library(sp)
library(stringr)
library(uuid)
library(shadowtext)
library(ggtext)
library(data.table)
library(shiny)
library(tmaptools)
library(raster)
library(openxlsx)
library(RColorBrewer)
options(viewer = NULL)
tmap_mode("view")
setwd("C:\\Users\\BZunguze\\OneDrive - ACQUABUILD\\APPS 2022\\BASELINE\\BASELINE_SHINY")
{
db2 <- 'semea'
host_db2 <- "semea.choww6kimn1s.eu-north-1.rds.amazonaws.com"
db_port2 <- '5432'
db_user2 <- "postgres"
db_password2 <- "FAR;2030,"
far_pool <- dbPool(RPostgres::Postgres(), dbname = db2, host=host_db2, port=db_port2, user=db_user2, password=db_password2)
} ### DATABASE CONNECTION
novos <- DBI::dbGetQuery(far_pool, "SELECT * FROM vistas.seleccao WHERE data BETWEEN '2024-01-01' AND CURRENT_DATE")
administrativa <- read_fst("C:/Users/BZunguze/OneDrive - ACQUABUILD/APPS 2022/BASELINE/BASELINE_SHINY/extension/administrativa.fst")
A1 <- haven::read_dta("C:/Users/BZunguze/OneDrive - ACQUABUILD/APPS 2022/BASELINE/Data/A1.dta")
Y1 <- haven::read_dta("C:/Users/BZunguze/OneDrive - ACQUABUILD/APPS 2022/BASELINE/Data/Y1.dta")
# localidades_recoding<- read_fst("C:/Users/BZunguze/OneDrive - ACQUABUILD/APPS 2022/BASELINE/BASELINE_SHINY/localidades_recoding.fst")
C09 <- haven::read_dta("C:/Users/BZunguze/OneDrive - ACQUABUILD/APPS 2022/BASELINE/Data/C09.dta")
F1 <- haven::read_dta("C:/Users/BZunguze/OneDrive - ACQUABUILD/APPS 2022/BASELINE/Data/F1.dta")
inquiridores <- read_excel("C:/Users/BZunguze/OneDrive - ACQUABUILD/APPS 2022/BASELINE/inquiridores.xlsx", sheet = "INQUIRIDORES")
meta <- read.fst("C:/Users/BZunguze/OneDrive - ACQUABUILD/APPS 2022/BASELINE/BASELINE_SHINY/metas.fst") %>% mutate(provincia = toupper(provincia))
